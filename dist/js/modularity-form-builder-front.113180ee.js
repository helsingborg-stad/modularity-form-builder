(()=>{"use strict";(function(e){var n={street_number:{name:"street",addressType:"short_name"},route:{name:"street",addressType:"short_name"},locality:{name:"city",addressType:"long_name"},postal_code:{name:"postal-code",addressType:"long_name"}};function t(){var e=document.getElementById("form-get-location");navigator.geolocation&&null!==e&&this.handleEvents()}t.prototype.handleEvents=function(){e("#form-get-location").click(function(t){t.preventDefault(),$target=e(t.target).parents('[class*="mod-form"]'),e(t.target).find(".pricon").removeClass().addClass("spinner spinner-dark"),navigator.geolocation.getCurrentPosition(function(o){var r=o.coords.latitude,a=o.coords.longitude,i=new google.maps.LatLng(r,a);(new google.maps.Geocoder).geocode({latLng:i},function(e,t){var o=[];if(t==google.maps.GeocoderStatus.OK&&e[0])for(var r=0;r<e[0].address_components.length;r++){var a=e[0].address_components[r].types[0];if(n[a]){var i=e[0].address_components[r][n[a].addressType];$target.find('[id$="address-'+n[a].name+'"]').val(i)}"route"==a?o[0]=i:"street_number"==a&&(o[1]=i),$target.find('[id$="address-street"]').val(o.join(" "))}}),e(t.target).find(".spinner").removeClass().addClass("pricon pricon-location-pin")},function(){e(t.target).html('<span><i class="pricon pricon-notice-warning"></i> '+formbuilder.something_went_wrong+"</span>")})}.bind(this))},new t})(jQuery),function(e){function n(){this.handleRequired(),this.handleEvents()}n.prototype.handleRequired=function(){const n=e('[class*="mod-form"]');e("[conditional-target]:hidden",n).find("[required]").prop("required",!1).attr("hidden-required",!0),e("[conditional-target]:visible",n).find("[hidden-required]").prop("required",!0)},n.prototype.handleEvents=function(){e("input[conditional]").change(function(n){const t=e(n.target).parents('[class*="mod-form"]');var o=e(n.target).attr("conditional");if(void 0!==o&&o.length>0){o=o.replaceAll("'",'"');var r=JSON.parse(o);t.find('div[conditional-target^=\'{"label":"'+r.label+"\",']").hide(),t.find("div[conditional-target='"+o+"']").show()}this.handleRequired()}.bind(this))},new n}(jQuery)})();
//# sourceMappingURL=modularity-form-builder-front.113180ee.js.map