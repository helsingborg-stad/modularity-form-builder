var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});($=>{var componentForm={street_number:{name:"street",addressType:"short_name"},route:{name:"street",addressType:"short_name"},locality:{name:"city",addressType:"long_name"},postal_code:{name:"postal-code",addressType:"long_name"}};function GetLocation(){var locationButton=document.getElementById("form-get-location");!navigator.geolocation||locationButton===null||this.handleEvents()}return __name(GetLocation,"GetLocation"),GetLocation.prototype.handleEvents=function(){$("#form-get-location").click((e=>{e.preventDefault(),$target=$(e.target).parents('[class*="mod-form"]'),$(e.target).find(".pricon").removeClass().addClass("spinner spinner-dark"),navigator.geolocation.getCurrentPosition(position=>{var lat=position.coords.latitude,lng=position.coords.longitude,googleMapsPos=new google.maps.LatLng(lat,lng),googleMapsGeocoder=new google.maps.Geocoder;googleMapsGeocoder.geocode({latLng:googleMapsPos},(results,status)=>{var fullAddress=[];if(status==google.maps.GeocoderStatus.OK&&results[0])for(var i=0;i<results[0].address_components.length;i++){var addressType=results[0].address_components[i].types[0];if(componentForm[addressType]){var value=results[0].address_components[i][componentForm[addressType].addressType];$target.find('[id$="address-'+componentForm[addressType].name+'"]').val(value)}addressType=="route"?fullAddress[0]=value:addressType=="street_number"&&(fullAddress[1]=value),$target.find('[id$="address-street"]').val(fullAddress.join(" "))}}),$(e.target).find(".spinner").removeClass().addClass("pricon pricon-location-pin")},()=>{$(e.target).html('<span><i class="pricon pricon-notice-warning"></i> '+formbuilder.something_went_wrong+"</span>")})}).bind(this))},new GetLocation})(jQuery);($=>{function HandleConditions(){this.handleRequired(),this.handleEvents()}return __name(HandleConditions,"HandleConditions"),HandleConditions.prototype.handleRequired=()=>{const target=$('[class*="mod-form"]');$("[conditional-target]:hidden",target).find("[required]").prop("required",!1).attr("hidden-required",!0),$("[conditional-target]:visible",target).find("[hidden-required]").prop("required",!0)},HandleConditions.prototype.handleEvents=function(){$("input[conditional]").change((function(e){const target=$(e.target).parents('[class*="mod-form"]');var conditional=$(e.target).attr("conditional");if(typeof conditional<"u"&&conditional.length>0){conditional=conditional.replaceAll("'",'"');var conditionObj=JSON.parse(conditional);target.find(`div[conditional-target^='{"label":"`+conditionObj.label+`",']`).hide(),target.find("div[conditional-target='"+conditional+"']").show()}this.handleRequired()}).bind(this))},new HandleConditions})(jQuery);
//# sourceMappingURL=modularity-form-builder-front.DPSOnLfI.js.map
